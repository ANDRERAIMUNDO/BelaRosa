{"version":3,"sources":["./src/app/sigup/sigup-routing.module.ts","./src/app/sigup/sigup.module.ts","./src/app/sigup/sigup.page.ts","./src/app/sigup/sigup.page.scss","./src/app/sigup/sigup.page.html"],"names":[],"mappings":"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","file":"src_app_sigup_sigup_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SigupPage } from './sigup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SigupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SigupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SigupPageRoutingModule } from './sigup-routing.module';\n\nimport { SigupPage } from './sigup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    SigupPageRoutingModule\n  ],\n  declarations: [SigupPage]\n})\nexport class SigupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { ClienteDTO } from '../models/cliente.dto';\nimport { Endereco } from '../models/endereco';\nimport { RegistroDTO } from '../models/registro.dto';\nimport { ClienteService } from '../services/cliente.service';\nimport { RegistroService } from '../services/registro.service';\nimport { StorageService } from '../services/storage.service';\n\n@Component({\n  selector: 'app-sigup',\n  templateUrl: './sigup.page.html',\n  styleUrls: ['./sigup.page.scss'],\n})\nexport class SigupPage implements OnInit {\n  formGroup: FormGroup;\n  registro: RegistroDTO;\n  cliente: ClienteDTO;\n  endereco: Endereco;\n  cep: string;\n  _registroId: RegistroDTO;\n  constructor(public clienteService: ClienteService,\n    public registroService: RegistroService,\n    public storageService: StorageService,\n    public router: Router,\n    public formBuilder: FormBuilder,\n    public alertController: AlertController) { }\n    \n  ngOnInit() {\n    let localUser = this.storageService.getLocalUser();\n    if (localUser && localUser.email)\n    {\n      this.registroService.findByEmail(localUser.email)\n      .subscribe(response=>\n        {\n          this.registro = response as RegistroDTO;\n        }, catchError =>\n            {\n              if (catchError.status == 403)\n                {\n                  this.router.navigate(['/sigup']);\n                } \n            }\n        );\n    }\n  \n    this.formGroup =  this.formBuilder.group(\n      {\n        registroId : [''],\n        name: ['', [Validators.required]],\n        cpf: ['', [Validators.required]],\n        dateNasc: ['', [Validators.required]],\n        phone: ['', [Validators.required]],\n        cep: ['', [Validators.required]],\n        logradouro: ['',[Validators.required]],  \n        numero: ['', [Validators.required]],\n        complemento: ['', [Validators.required]],\n        bairro: ['', [Validators.required]],\n        localidade:['', [Validators.required]],\n        uf: ['', [Validators.required]],\n      });\n  }\n\n  getEndereco(id){\n    let cep = this.formGroup.get('cep').value;\n    this.clienteService.viaCep(cep)\n    .subscribe(response=>\n      {\n        this.endereco = response;\n      },\n      catchError=>\n        {\n          if (catchError.status == 400)\n          {\n            this.router.navigate(['/sigup']);\n          }\n        }\n      );\n      let localUser = this.storageService.getLocalUser();\n      this.registroService.findByEmail(localUser.email).subscribe(res=> {this.registro = res as RegistroDTO});\n      id = this.registro.id;\n      this.formGroup.get('registroId').setValue(id);\n  }\n\n  submitForm(){\n    this.clienteService.insert(this.formGroup.value)\n    .subscribe(response =>\n      {\n        this.registrationSuccess();\n      }, catchError=>\n      {\n        this.router.navigate(['/sigup']);\n      });\n  }\n\n async registrationSuccess () {\n    const alert = await this.alertController.create(\n      {\n        cssClass: 'registration-success',\n        header: 'Ok',\n        subHeader: 'Tudo certo!',\n        message: 'Agora finalizamos seu cadastro.',\n        buttons: [\n          {\n            text :'Clique aqui',\n            cssClass: 'secondary',\n            handler: () =>\n            {\n              this.router.navigate(['/dashboard/index']);\n            }\n          }\n        ]\n      }\n    )\n    await alert.present();\n  }\n\n}\n","export default \"#container {\\n  text-align: center;\\n  position: relative;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\nion-header {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: x-small;\\n  color: #080808;\\n  text-align: length;\\n  --ion-background-color: rgb(240, 191, 233);\\n}\\n\\n.content {\\n  --ion-background-color: rgb(252, 239, 250);\\n}\\n\\nh6 {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: small;\\n  text-align: center;\\n  color: #0f0f0f;\\n}\\n\\nion-icon {\\n  width: 20px;\\n  height: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ3VwLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0Qsa0JBQUE7RUFDQyxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQ0o7O0FBQ0U7RUFDSSwwQ0FBQTtBQUVOOztBQUNFO0VBQ0Usa0NBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFFSiIsImZpbGUiOiJzaWd1cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB0b3A6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIH1cbiAgXG4gIGlvbi1oZWFkZXIge1xuICAgIGZvbnQtZmFtaWx5OidMdWNpZGEgU2FucyBSZWd1bGFyJztcbiAgICBmb250LXNpemU6IHgtc21hbGw7XG4gICAgY29sb3I6IHJnYig4LCA4LCA4KTtcbiAgICB0ZXh0LWFsaWduOiBsZW5ndGg7IFxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYigyNDAsIDE5MSwgMjMzKTtcbiAgfVxuICAuY29udGVudCB7ICBcbiAgICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYigyNTIsIDIzOSwgMjUwKTtcbiAgfSBcbiAgXG4gIGg2IHtcbiAgICBmb250LWZhbWlseTonTHVjaWRhIFNhbnMgUmVndWxhcic7XG4gICAgZm9udC1zaXplOiBzbWFsbDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IFxuICAgIGNvbG9yOiByZ2IoMTUsIDE1LCAxNSk7XG4gIH1cbiAgXG4gIGlvbi1pY29uIHtcbiAgICB3aWR0aDogMjBweDsgXG4gICAgaGVpZ2h0OiAyMHB4O1xuICB9XG4gICJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <h5>Finalize seu cadastro</h5>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"content\\\" [fullscreen]=\\\"true\\\">\\n  <div id=\\\"container\\\">\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n      <ion-input type=\\\"text\\\" disabled>{{registro?.email}}</ion-input>\\n    </ion-item>\\n\\n  <form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"submitForm()\\\">\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Nome completo</ion-label>\\n      <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" required></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.name.dirty && formGroup.controls.name.errors\\\" margin-left>Obrigatório. </p>\\n    \\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">CPF</ion-label>\\n      <ion-input formControlName=\\\"cpf\\\" type=\\\"text\\\" required></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.cpf.dirty && formGroup.controls.cpf.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Data de Nascimento</ion-label>\\n      <ion-input formControlName=\\\"dateNasc\\\" type=\\\"text\\\" required></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.dateNasc.dirty && formGroup.controls.dateNasc.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Celular</ion-label>\\n      <ion-input formControlName=\\\"phone\\\" type=\\\"text\\\" required></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.phone.dirty && formGroup.controls.phone.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Cep</ion-label>\\n      <ion-input  formControlName=\\\"cep\\\" type=\\\"text\\\" required ></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.cep.dirty && formGroup.controls.cep.errors\\\" margin-left>Obrigatório. </p>\\n    <ion-button (click)=\\\"getEndereco()\\\">buscar</ion-button>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Endereço</ion-label>\\n      <ion-input formControlName=\\\"logradouro\\\" type=\\\"text\\\" value='{{endereco?.logradouro}}' required> </ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.logradouro.dirty && formGroup.controls.logradouro.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Numero</ion-label>\\n      <ion-input formControlName=\\\"numero\\\" type=\\\"text\\\" required></ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.numero.dirty && formGroup.controls.numero.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Complemento</ion-label>\\n      <ion-input formControlName=\\\"complemento\\\" type=\\\"text\\\" value='{{endereco?.complemento}}' required> </ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.complemento.dirty && formGroup.controls.complemento.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Bairro</ion-label>\\n      <ion-input formControlName=\\\"bairro\\\" type=\\\"text\\\" value='{{endereco?.bairro}}' required> </ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.bairro.dirty && formGroup.controls.bairro.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Cidade</ion-label>\\n      <ion-input formControlName=\\\"localidade\\\" type=\\\"text\\\" value='{{endereco?.localidade}}' required> </ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.localidade.dirty && formGroup.controls.localidade.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Estado</ion-label>\\n      <ion-input formControlName=\\\"uf\\\" type=\\\"text\\\" value='{{endereco?.uf}}' required> </ion-input>\\n    </ion-item>\\n    <p *ngIf=\\\"formGroup.controls.uf.dirty && formGroup.controls.uf.errors\\\" margin-left>Obrigatório. </p>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-button type=\\\"submit\\\" color=\\\"light\\\" expand=\\\"block\\\">Cadastrar</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </form>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}