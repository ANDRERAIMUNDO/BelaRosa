{"version":3,"sources":["./src/app/produto/produto-routing.module.ts","./src/app/produto/produto.module.ts","./src/app/produto/produto.page.ts","./src/app/produto/produto.page.scss","./src/app/produto/produto.page.html"],"names":[],"mappings":"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","file":"src_app_produto_produto_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProdutoPage } from './produto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdutoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdutoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdutoPageRoutingModule } from './produto-routing.module';\n\nimport { ProdutoPage } from './produto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdutoPageRoutingModule\n  ],\n  declarations: [ProdutoPage]\n})\nexport class ProdutoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NavParams } from '@ionic/angular';\nimport { API_CONFIG } from 'src/config/config';\nimport { CategoriaDTO } from '../models/categoria.dto';\nimport { ProdutoDTO } from '../models/produto.dto';\nimport { CategoriaService } from '../services/categoria.service';\nimport { ProdutoService } from '../services/produto.service';\n\n@Component({\n  selector: 'app-produto',\n  templateUrl: './produto.page.html',\n  styleUrls: ['./produto.page.scss'],\n  providers: [NavParams]\n})\nexport class ProdutoPage implements OnInit {\n\n  categoria: CategoriaDTO;\n  itens: ProdutoDTO[] = [];\n  page: number = 0;\n\n  constructor(public route: ActivatedRoute,\n     public router: Router, \n     public produtoService: ProdutoService,\n     public categoriaService: CategoriaService) { }\n\n  ngOnInit() {\n    this.getCategorias();\n    this.getProdutos();\n  }\n\n  getProdutos() {\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.produtoService.findByCategoria(categoria_id, this.page, 10)\n    .subscribe(response =>\n      {\n        let start = this.itens.length;\n        this.itens = this.itens.concat(response['content']);\n        let end = this.itens.length -1;\n        console.log(this.page);\n        console.log(this.itens);\n        this.loadImage(start, end);\n      },\n      catchError => \n      {\n        console.log(catchError);\n      });\n  }\n\n  getCategorias(){\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.categoriaService.findById(categoria_id)\n    .subscribe(response=> \n      {\n        this.categoria = response as CategoriaDTO;\n        console.log(categoria_id);\n      });\n  }\n\n  loadImage(start: number, end: number) {\n    for (var i = start; i<= end; i++) {\n      let item = this.itens[i];\n      this.produtoService.getProdutoImage(item.id)\n      .subscribe(response =>\n        {\n          item.imageUrl = `${API_CONFIG.bukectBaseUrl}/produtos/prod${item.id}-small.png`;\n        });\n    }\n  }\n\n  produtoDetails(produto_id: string) {\n    this.router.navigate(['/dashboard/produto-detail', {produto_id: produto_id}]);\n  }\n\n  doRefresh(event) {\n    this.page = 0;\n    this.itens = [];\n    this.getProdutos();\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n  loadData(event) {\n    setTimeout(() => {\n      this.page++;\n      this.getProdutos();\n      event.target.complete();\n      if (this.itens.length == 12) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  onInput(event: any){\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.page = 0;\n    this.itens = [];\n    const name = event.target.value;\n    this.produtoService.search(name,categoria_id, this.page,12)\n    .subscribe(response => {\n      let start = this.itens.length;\n      this.itens = this.itens.concat(response['content']);  \n      let end = this.itens.length -1;\n      this.loadImage(start, end);\n    });\n  }\n}       \n  ","export default \"ion-header {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: x-small;\\n  color: #080808;\\n  text-align: length;\\n  --ion-background-color: rgb(240, 191, 233);\\n}\\n\\nion-card {\\n  width: 160px;\\n  height: 230px;\\n}\\n\\nion-card-title {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: small;\\n  color: #080808;\\n  text-align: length;\\n  width: 75;\\n  height: 75;\\n}\\n\\nion-img {\\n  width: auto;\\n  height: auto;\\n}\\n\\nion-card-title {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: smaller;\\n  color: #080808;\\n  text-align: length;\\n}\\n\\nion-header {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: x-small;\\n  color: #080808;\\n  text-align: length;\\n  --ion-background-color: rgb(240, 191, 233);\\n}\\n\\nion-content {\\n  --ion-background-color: rgb(252, 239, 250);\\n}\\n\\nh6 {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: small;\\n  text-align: left;\\n  -moz-text-align-last: left;\\n       text-align-last: left;\\n  color: #0f0f0f;\\n}\\n\\nion-icon {\\n  width: 20px;\\n  height: 20px;\\n}\\n\\nion-button {\\n  color: #f0bfe9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1dG8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQ0Y7O0FBRUE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBQ0o7O0FBRUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQ0o7O0FBRUU7RUFDRSwwQ0FBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7T0FBQSxxQkFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUU7RUFDRSxjQUFBO0FBQ0oiLCJmaWxlIjoicHJvZHV0by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVyIHtcbiAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIGNvbG9yOiByZ2IoOCwgOCwgOCk7XG4gIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYigyNDAsIDE5MSwgMjMzKTtcbn1cblxuaW9uLWNhcmQgIHtcbiAgICB3aWR0aDogMTYwcHg7IFxuICAgIGhlaWdodDogMjMwcHg7XG4gIH1cbiAgXG4gIGlvbi1jYXJkLXRpdGxlIHtcbiAgICBmb250LWZhbWlseTonTHVjaWRhIFNhbnMgUmVndWxhcic7XG4gICAgZm9udC1zaXplOiBzbWFsbDtcbiAgICBjb2xvcjogcmdiKDgsIDgsIDgpO1xuICAgIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gICAgd2lkdGg6IDc1OyBcbiAgICBoZWlnaHQ6IDc1O1xuICAgIH1cbiAgXG4gIGlvbi1pbWcge1xuICAgIHdpZHRoOiBhdXRvOyBcbiAgICBoZWlnaHQ6IGF1dG87XG4gIH1cbiAgXG4gIGlvbi1jYXJkLXRpdGxlIHtcbiAgICBmb250LWZhbWlseTonTHVjaWRhIFNhbnMgUmVndWxhcic7XG4gICAgZm9udC1zaXplOiBzbWFsbGVyO1xuICAgIGNvbG9yOiByZ2IoOCwgOCwgOCk7XG4gICAgdGV4dC1hbGlnbjogbGVuZ3RoOyBcbiAgfVxuICBcbiAgaW9uLWhlYWRlciB7XG4gICAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgICBjb2xvcjogcmdiKDgsIDgsIDgpO1xuICAgIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MCwgMTkxLCAyMzMpO1xuICB9XG5cbiAgaW9uLWNvbnRlbnQgeyAgXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MiwgMjM5LCAyNTApO1xuICB9IFxuICBcbiAgaDYge1xuICAgIGZvbnQtZmFtaWx5OidMdWNpZGEgU2FucyBSZWd1bGFyJztcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgdGV4dC1hbGlnbi1sYXN0OiBsZWZ0OyBcbiAgICBjb2xvcjogcmdiKDE1LCAxNSwgMTUpO1xuICB9XG4gIFxuICBpb24taWNvbiB7XG4gICAgd2lkdGg6IDIwcHg7IFxuICAgIGhlaWdodDogMjBweDtcbiAgfVxuXG4gIGlvbi1idXR0b24ge1xuICAgIGNvbG9yOiByZ2IoMjQwLCAxOTEsIDIzMyk7XG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button>back</ion-back-button>\\n    </ion-buttons>\\n    <h6 class=\\\"ion-text-center\\\">categoria->{{categoria?.name}}</h6>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-searchbar animated=\\\"true\\\" (ionInput)=\\\"onInput($event)\\\"></ion-searchbar>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n  <ion-refresher-content refreshingSpinner=\\\"circular\\\"></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-row>\\n  <ion-card lines=\\\"none\\\" *ngFor=\\\"let item of itens\\\" (click)=\\\"produtoDetails(item.id)\\\">\\n      <ion-img [src]=\\\"item.imageUrl || '../../assets/Camera.svg'\\\"></ion-img>\\n    <ion-card-header>\\n      <ion-card-subtitle> <h6>{{item.name}}</h6></ion-card-subtitle>\\n      <ion-card-title>{{item.price | currency}}</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h6>é a  descrição de um produto.. </h6> \\n    </ion-card-content>\\n  </ion-card>\\n  </ion-row>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Carregando mais produtos...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}