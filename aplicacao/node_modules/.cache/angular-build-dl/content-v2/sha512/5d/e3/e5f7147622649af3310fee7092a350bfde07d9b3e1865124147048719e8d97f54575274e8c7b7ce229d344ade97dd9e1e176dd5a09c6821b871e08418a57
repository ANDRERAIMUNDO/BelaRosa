{"version":3,"sources":["webpack:///src/app/produto/produto-routing.module.ts","webpack:///src/app/produto/produto.module.ts","webpack:///src/app/produto/produto.page.ts","webpack:///src/app/produto/produto.page.scss","webpack:///src/app/produto/produto.page.html"],"names":["routes","path","component","ProdutoPage","ProdutoPageRoutingModule","NgModule","imports","RouterModule","exports","ProdutoPageModule","CommonModule","FormsModule","IonicModule","declarations","route","router","produtoService","categoriaService","itens","page","getCategorias","getProdutos","categoria_id","snapshot","paramMap","get","findByCategoria","subscribe","response","start","length","concat","end","console","log","loadImage","catchError","findById","categoria","item","i","getProdutoImage","id","imageUrl","API_CONFIG","produto_id","navigate","event","setTimeout","target","complete","disabled","name","value","search","ActivatedRoute","Router","ProdutoService","CategoriaService","Component","selector","template","providers","NavParams"],"mappings":"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","file":"src_app_produto_produto_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProdutoPage } from './produto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdutoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdutoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdutoPageRoutingModule } from './produto-routing.module';\n\nimport { ProdutoPage } from './produto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdutoPageRoutingModule\n  ],\n  declarations: [ProdutoPage]\n})\nexport class ProdutoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NavParams } from '@ionic/angular';\nimport { API_CONFIG } from 'src/config/config';\nimport { CategoriaDTO } from '../models/categoria.dto';\nimport { ProdutoDTO } from '../models/produto.dto';\nimport { CategoriaService } from '../services/categoria.service';\nimport { ProdutoService } from '../services/produto.service';\n\n@Component({\n  selector: 'app-produto',\n  templateUrl: './produto.page.html',\n  styleUrls: ['./produto.page.scss'],\n  providers: [NavParams]\n})\nexport class ProdutoPage implements OnInit {\n\n  categoria: CategoriaDTO;\n  itens: ProdutoDTO[] = [];\n  page: number = 0;\n\n  constructor(public route: ActivatedRoute,\n     public router: Router, \n     public produtoService: ProdutoService,\n     public categoriaService: CategoriaService) { }\n\n  ngOnInit() {\n    this.getCategorias();\n    this.getProdutos();\n  }\n\n  getProdutos() {\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.produtoService.findByCategoria(categoria_id, this.page, 10)\n    .subscribe(response =>\n      {\n        let start = this.itens.length;\n        this.itens = this.itens.concat(response['content']);\n        let end = this.itens.length -1;\n        console.log(this.page);\n        console.log(this.itens);\n        this.loadImage(start, end);\n      },\n      catchError => \n      {\n        console.log(catchError);\n      });\n  }\n\n  getCategorias(){\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.categoriaService.findById(categoria_id)\n    .subscribe(response=> \n      {\n        this.categoria = response as CategoriaDTO;\n        console.log(categoria_id);\n      });\n  }\n\n  loadImage(start: number, end: number) {\n    for (var i = start; i<= end; i++) {\n      let item = this.itens[i];\n      this.produtoService.getProdutoImage(item.id)\n      .subscribe(response =>\n        {\n          item.imageUrl = `${API_CONFIG.bukectBaseUrl}/produtos/prod${item.id}-small.png`;\n        });\n    }\n  }\n\n  produtoDetails(produto_id: string) {\n    this.router.navigate(['/dashboard/produto-detail', {produto_id: produto_id}]);\n  }\n\n  doRefresh(event) {\n    this.page = 0;\n    this.itens = [];\n    this.getProdutos();\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n  loadData(event) {\n    setTimeout(() => {\n      this.page++;\n      this.getProdutos();\n      event.target.complete();\n      if (this.itens.length == 12) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  onInput(event: any){\n    let categoria_id = this.route.snapshot.paramMap.get('categoria_id');\n    this.page = 0;\n    this.itens = [];\n    const name = event.target.value;\n    this.produtoService.search(name,categoria_id, this.page,12)\n    .subscribe(response => {\n      let start = this.itens.length;\n      this.itens = this.itens.concat(response['content']);  \n      let end = this.itens.length -1;\n      this.loadImage(start, end);\n    });\n  }\n}       \n  ","export default \"ion-header {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: x-small;\\n  color: #080808;\\n  text-align: length;\\n  --ion-background-color: rgb(240, 191, 233);\\n}\\n\\nion-card {\\n  width: 160px;\\n  height: 230px;\\n}\\n\\nion-card-title {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: small;\\n  color: #080808;\\n  text-align: length;\\n  width: 75;\\n  height: 75;\\n}\\n\\nion-img {\\n  width: auto;\\n  height: auto;\\n}\\n\\nion-card-title {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: smaller;\\n  color: #080808;\\n  text-align: length;\\n}\\n\\nion-header {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: x-small;\\n  color: #080808;\\n  text-align: length;\\n  --ion-background-color: rgb(240, 191, 233);\\n}\\n\\nion-content {\\n  --ion-background-color: rgb(252, 239, 250);\\n}\\n\\nh6 {\\n  font-family: \\\"Lucida Sans Regular\\\";\\n  font-size: small;\\n  text-align: left;\\n  -moz-text-align-last: left;\\n       text-align-last: left;\\n  color: #0f0f0f;\\n}\\n\\nion-icon {\\n  width: 20px;\\n  height: 20px;\\n}\\n\\nion-button {\\n  color: #f0bfe9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1dG8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQ0Y7O0FBRUE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBQ0o7O0FBRUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0FBQ0o7O0FBRUU7RUFDRSwwQ0FBQTtBQUNKOztBQUVFO0VBQ0Usa0NBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7T0FBQSxxQkFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUU7RUFDRSxjQUFBO0FBQ0oiLCJmaWxlIjoicHJvZHV0by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVyIHtcbiAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIGNvbG9yOiByZ2IoOCwgOCwgOCk7XG4gIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYigyNDAsIDE5MSwgMjMzKTtcbn1cblxuaW9uLWNhcmQgIHtcbiAgICB3aWR0aDogMTYwcHg7IFxuICAgIGhlaWdodDogMjMwcHg7XG4gIH1cbiAgXG4gIGlvbi1jYXJkLXRpdGxlIHtcbiAgICBmb250LWZhbWlseTonTHVjaWRhIFNhbnMgUmVndWxhcic7XG4gICAgZm9udC1zaXplOiBzbWFsbDtcbiAgICBjb2xvcjogcmdiKDgsIDgsIDgpO1xuICAgIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gICAgd2lkdGg6IDc1OyBcbiAgICBoZWlnaHQ6IDc1O1xuICAgIH1cbiAgXG4gIGlvbi1pbWcge1xuICAgIHdpZHRoOiBhdXRvOyBcbiAgICBoZWlnaHQ6IGF1dG87XG4gIH1cbiAgXG4gIGlvbi1jYXJkLXRpdGxlIHtcbiAgICBmb250LWZhbWlseTonTHVjaWRhIFNhbnMgUmVndWxhcic7XG4gICAgZm9udC1zaXplOiBzbWFsbGVyO1xuICAgIGNvbG9yOiByZ2IoOCwgOCwgOCk7XG4gICAgdGV4dC1hbGlnbjogbGVuZ3RoOyBcbiAgfVxuICBcbiAgaW9uLWhlYWRlciB7XG4gICAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgICBjb2xvcjogcmdiKDgsIDgsIDgpO1xuICAgIHRleHQtYWxpZ246IGxlbmd0aDsgXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MCwgMTkxLCAyMzMpO1xuICB9XG5cbiAgaW9uLWNvbnRlbnQgeyAgXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MiwgMjM5LCAyNTApO1xuICB9IFxuICBcbiAgaDYge1xuICAgIGZvbnQtZmFtaWx5OidMdWNpZGEgU2FucyBSZWd1bGFyJztcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgdGV4dC1hbGlnbi1sYXN0OiBsZWZ0OyBcbiAgICBjb2xvcjogcmdiKDE1LCAxNSwgMTUpO1xuICB9XG4gIFxuICBpb24taWNvbiB7XG4gICAgd2lkdGg6IDIwcHg7IFxuICAgIGhlaWdodDogMjBweDtcbiAgfVxuXG4gIGlvbi1idXR0b24ge1xuICAgIGNvbG9yOiByZ2IoMjQwLCAxOTEsIDIzMyk7XG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button>back</ion-back-button>\\n    </ion-buttons>\\n    <h6 class=\\\"ion-text-center\\\">categoria->{{categoria?.name}}</h6>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-searchbar animated=\\\"true\\\" (ionInput)=\\\"onInput($event)\\\"></ion-searchbar>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n  <ion-refresher-content refreshingSpinner=\\\"circular\\\"></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-row>\\n  <ion-card lines=\\\"none\\\" *ngFor=\\\"let item of itens\\\" (click)=\\\"produtoDetails(item.id)\\\">\\n      <ion-img [src]=\\\"item.imageUrl || '../../assets/Camera.svg'\\\"></ion-img>\\n    <ion-card-header>\\n      <ion-card-subtitle> <h6>{{item.name}}</h6></ion-card-subtitle>\\n      <ion-card-title>{{item.price | currency}}</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h6>é a  descrição de um produto.. </h6> \\n    </ion-card-content>\\n  </ion-card>\\n  </ion-row>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Carregando mais produtos...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\";"]}