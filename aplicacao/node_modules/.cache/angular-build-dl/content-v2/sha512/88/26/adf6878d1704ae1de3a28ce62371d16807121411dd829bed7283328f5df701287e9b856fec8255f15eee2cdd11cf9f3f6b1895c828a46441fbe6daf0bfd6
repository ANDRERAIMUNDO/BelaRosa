(self["webpackChunkbelarosa"] = self["webpackChunkbelarosa"] || []).push([["src_app_profile-photo_profile-photo_module_ts"],{

/***/ 11186:
/*!***************************************************************!*\
  !*** ./src/app/profile-photo/profile-photo-routing.module.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProfilePhotoPageRoutingModule": function() { return /* binding */ ProfilePhotoPageRoutingModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _profile_photo_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./profile-photo.page */ 94070);




const routes = [
    {
        path: '',
        component: _profile_photo_page__WEBPACK_IMPORTED_MODULE_0__.ProfilePhotoPage
    }
];
let ProfilePhotoPageRoutingModule = class ProfilePhotoPageRoutingModule {
};
ProfilePhotoPageRoutingModule = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule],
    })
], ProfilePhotoPageRoutingModule);



/***/ }),

/***/ 40387:
/*!*******************************************************!*\
  !*** ./src/app/profile-photo/profile-photo.module.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProfilePhotoPageModule": function() { return /* binding */ ProfilePhotoPageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic-native/camera/ngx */ 84267);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _profile_photo_routing_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profile-photo-routing.module */ 11186);
/* harmony import */ var _profile_photo_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./profile-photo.page */ 94070);








let ProfilePhotoPageModule = class ProfilePhotoPageModule {
};
ProfilePhotoPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.NgModule)({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_7__.IonicModule,
            _profile_photo_routing_module__WEBPACK_IMPORTED_MODULE_1__.ProfilePhotoPageRoutingModule
        ],
        providers: [
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_0__.Camera
        ],
        declarations: [_profile_photo_page__WEBPACK_IMPORTED_MODULE_2__.ProfilePhotoPage]
    })
], ProfilePhotoPageModule);



/***/ }),

/***/ 94070:
/*!*****************************************************!*\
  !*** ./src/app/profile-photo/profile-photo.page.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProfilePhotoPage": function() { return /* binding */ ProfilePhotoPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_profile_photo_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./profile-photo.page.html */ 27770);
/* harmony import */ var _profile_photo_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profile-photo.page.scss */ 72075);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/camera/ngx */ 84267);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var src_config_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/config/config */ 64573);
/* harmony import */ var _services_cliente_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/cliente.service */ 70932);
/* harmony import */ var _services_endereco_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/endereco.service */ 61478);
/* harmony import */ var _services_photo_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/photo.service */ 61957);
/* harmony import */ var _services_registro_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/registro.service */ 60023);
/* harmony import */ var _services_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/storage.service */ 71188);













let ProfilePhotoPage = class ProfilePhotoPage {
    constructor(storageService, registroService, clienteService, enderecoService, loadingController, alertController, route, router, photoService, camera) {
        this.storageService = storageService;
        this.registroService = registroService;
        this.clienteService = clienteService;
        this.enderecoService = enderecoService;
        this.loadingController = loadingController;
        this.alertController = alertController;
        this.route = route;
        this.router = router;
        this.photoService = photoService;
        this.camera = camera;
        this.cameraOn = false;
        this.galery = false;
        this.id = "";
    }
    ngOnInit() {
        this.getMyData();
    }
    getMyData() {
        let localUser = this.storageService.getLocalUser();
        if (localUser && localUser.email) {
            this.registroService.findByEmail(localUser.email)
                .subscribe(response => {
                this.registro = response;
                this.cliente = response;
                this.getImageIfExists();
                this.sliceTypeCliente();
            }, catchError => {
                if (catchError.status == 403) {
                    this.router.navigate(['/home']);
                }
            });
        }
    }
    getImageIfExists() {
        this.registroService.getImageFromBucket(this.registro.id)
            .subscribe(response => {
            this.registro.imageUrl = `${src_config_config__WEBPACK_IMPORTED_MODULE_3__.API_CONFIG.bukectBaseUrl}/profiles/cp${this.registro.id}.png`;
        }, catchError => { console.log(catchError); });
    }
    sliceTypeCliente() {
        this.DateSlice = this.registro.cliente.dateNasc;
        this.dia = this.DateSlice.slice(0, 2);
        this.mes = this.DateSlice.slice(2, 4);
        this.ano = this.DateSlice.slice(4, 8);
    }
    //folder
    addPhotoToGallery() {
        this.galery = true;
        this.photoService.addNewToGallery()
            .then((imageData) => {
            this.picture = 'data:image/png;base64,' + imageData;
            this.galery = false;
        }, (err) => {
            this.galery = false;
        });
        this.galery = false;
    }
    //camera
    getCameraPicture() {
        this.cameraOn = true;
        const options = {
            quality: 100,
            destinationType: this.camera.DestinationType.FILE_URI,
            encodingType: this.camera.EncodingType.PNG,
            mediaType: this.camera.MediaType.PICTURE
        };
        this.camera.getPicture(options).then((imageData) => {
            this.picture = 'data:image/png;base64,' + imageData;
            this.cameraOn = false;
        }, (err) => {
            this.cameraOn = false;
        });
        this.cameraOn = false;
    }
    //post imagem camera
    sendPicture() {
        //o envento de carreamento ocorre aqui
        this.photoService.uploadPicture(this.picture)
            .subscribe(response => {
            this.picture = null;
            ///this.loadData(); <- ou aqui
        }, error => {
            //adicionar aqui outro evento caso aja erro ou falha de internet
        });
    }
    cancel() {
        this.picture = null;
    }
};
ProfilePhotoPage.ctorParameters = () => [
    { type: _services_storage_service__WEBPACK_IMPORTED_MODULE_8__.StorageService },
    { type: _services_registro_service__WEBPACK_IMPORTED_MODULE_7__.RegistroService },
    { type: _services_cliente_service__WEBPACK_IMPORTED_MODULE_4__.ClienteService },
    { type: _services_endereco_service__WEBPACK_IMPORTED_MODULE_5__.EnderecoService },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_9__.LoadingController },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_9__.AlertController },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__.ActivatedRoute },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__.Router },
    { type: _services_photo_service__WEBPACK_IMPORTED_MODULE_6__.PhotoService },
    { type: _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_2__.Camera }
];
ProfilePhotoPage = (0,tslib__WEBPACK_IMPORTED_MODULE_11__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.Component)({
        selector: 'app-profile-photo',
        template: _raw_loader_profile_photo_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_profile_photo_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], ProfilePhotoPage);



/***/ }),

/***/ 72075:
/*!*******************************************************!*\
  !*** ./src/app/profile-photo/profile-photo.page.scss ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("#container {\n  text-align: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.ion-text-center {\n  text-align: center;\n  left: 0;\n  right: 0;\n}\n\nion-header {\n  font-family: \"Lucida Sans Regular\";\n  font-size: x-small;\n  color: #080808;\n  text-align: length;\n  --ion-background-color: rgb(240, 191, 233);\n}\n\nion-avatar {\n  left: auto;\n  right: auto;\n}\n\nion-img {\n  width: auto;\n  height: auto;\n}\n\n#img-client {\n  margin-top: 30px;\n}\n\nion-header {\n  font-family: \"Lucida Sans Regular\";\n  font-size: x-small;\n  color: #080808;\n  text-align: center;\n  --ion-background-color: rgb(240, 191, 233);\n}\n\nion-content {\n  --ion-background-color: rgb(252, 239, 250);\n}\n\nh6 {\n  font-family: \"Lucida Sans Regular\";\n  font-size: small;\n  text-align: center;\n  -moz-text-align-last: center;\n       text-align-last: center;\n  color: #0f0f0f;\n}\n\nh5 {\n  color: #f063db;\n}\n\nion-icon {\n  width: 20px;\n  height: 20px;\n}\n\nion-button {\n  margin-right: 10px;\n  margin-left: 10px;\n  color: #f0bfe9;\n}\n\nion-item {\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n#ion-button-update {\n  width: auto;\n  height: 50px;\n}\n\n#ion-icon-button {\n  width: 30px;\n  height: 30px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUtcGhvdG8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsMENBQUE7QUFDSjs7QUFFQTtFQUVJLFVBQUE7RUFDQSxXQUFBO0FBQUo7O0FBR0E7RUFDTSxXQUFBO0VBQ0EsWUFBQTtBQUFOOztBQUdFO0VBQ0ksZ0JBQUE7QUFBTjs7QUFHRTtFQUNFLGtDQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQ0FBQTtBQUFKOztBQUdFO0VBQ0UsMENBQUE7QUFBSjs7QUFHRTtFQUNFLGtDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO09BQUEsdUJBQUE7RUFDQSxjQUFBO0FBQUo7O0FBRUU7RUFDRSxjQUFBO0FBQ0o7O0FBRUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVFO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUNKIiwiZmlsZSI6InByb2ZpbGUtcGhvdG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgfVxuXG4uaW9uLXRleHQtY2VudGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDsgXG59XG5cbmlvbi1oZWFkZXIge1xuICAgIGZvbnQtZmFtaWx5OidMdWNpZGEgU2FucyBSZWd1bGFyJztcbiAgICBmb250LXNpemU6IHgtc21hbGw7XG4gICAgY29sb3I6IHJnYig4LCA4LCA4KTtcbiAgICB0ZXh0LWFsaWduOiBsZW5ndGg7IFxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYigyNDAsIDE5MSwgMjMzKTtcbn1cbiAgXG5pb24tYXZhdGFyIHtcbiAgICAvL3Bvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiBhdXRvO1xuICAgIHJpZ2h0OiBhdXRvO1xufVxuXG5pb24taW1nIHsgXG4gICAgICB3aWR0aDogYXV0bzsgXG4gICAgICBoZWlnaHQ6IGF1dG87XG4gIH1cblxuICAjaW1nLWNsaWVudCB7XG4gICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICB9XG5cbiAgaW9uLWhlYWRlciB7XG4gICAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgICBjb2xvcjogcmdiKDgsIDgsIDgpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MCwgMTkxLCAyMzMpO1xuICB9XG4gIFxuICBpb24tY29udGVudCB7ICBcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjUyLCAyMzksIDI1MCk7XG4gIH0gXG4gIFxuICBoNiB7XG4gICAgZm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zIFJlZ3VsYXInO1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHRleHQtYWxpZ24tbGFzdDogY2VudGVyOyBcbiAgICBjb2xvcjogcmdiKDE1LCAxNSwgMTUpO1xuICB9XG4gIGg1IHtcbiAgICBjb2xvcjogIHJnYigyNDAsIDk5LCAyMTkpO1xuICB9XG4gIFxuICBpb24taWNvbiB7XG4gICAgd2lkdGg6IDIwcHg7IFxuICAgIGhlaWdodDogMjBweDtcbiAgfVxuICBcbiAgaW9uLWJ1dHRvbiB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIGNvbG9yOiByZ2IoMjQwLCAxOTEsIDIzMyk7XG4gIH1cblxuICBpb24taXRlbSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB9XG5cbiAgI2lvbi1idXR0b24tdXBkYXRlIHtcbiAgICB3aWR0aDogYXV0bzsgXG4gICAgaGVpZ2h0OiA1MHB4O1xuICB9XG4gICAgXG4gICNpb24taWNvbi1idXR0b24ge1xuICAgIHdpZHRoOiAzMHB4OyBcbiAgICBoZWlnaHQ6IDMwcHg7XG4gIH1cbiAgXG4gIC8vICAgIG1hcmdpbi1yaWdodDogOTBweDtcbiAgIC8vICAgICBtYXJnaW4tbGVmdDogMHB4OyJdfQ== */");

/***/ }),

/***/ 27770:
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/profile-photo/profile-photo.page.html ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-item>\n      <div class=\"positon\">\n        <ion-avatar slot=\"end\">\n          <img [src]=\"registro?.imageUrl || '../../assets/person.svg'\">\n        </ion-avatar>\n      </div>\n      <ion-label>\n        <h3>{{registro?.cliente?.name}}</h3>\n        <p>{{dia}}/{{mes}}/{{ano}}</p>\n        <p>{{registro?.email}}</p>\n      </ion-label>\n    </ion-item>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div>\n    <div class=\"ion-text-center\">\n      <ion-card>\n        <img id=\"img-client\" [src]=\"registro?.imageUrl || '../../assets/person.svg'\">\n      </ion-card>\n    </div>\n\n    <ion-item  [disabled]=\"galery\" id=\"ion-button-update\" (click)=\"addPhotoToGallery()\">\n      <ion-icon id=\"ion-icon-button\" name=\"folder-open-outline\"></ion-icon>\n      <ion-icon name=\"arrow-forward-outline\"></ion-icon>\n      <ion-label class=\"ion-text-center\">\n      <h2>Abrir Galeria</h2>\n      </ion-label>\n    </ion-item>\n    \n    <ion-item [disabled]=\"cameraOn\" id=\"ion-button-update\" (click)=\"getCameraPicture()\" > \n      <ion-icon id=\"ion-icon-button\" name=\"camera-outline\"></ion-icon>\n      <ion-icon name=\"arrow-forward-outline\"></ion-icon>\n      <ion-label class=\"ion-text-center\">\n      <h2>Abrir Camera</h2>\n      </ion-label>\n    </ion-item>\n    \n  </div>\n  \n  <div>\n    <ion-item>\n      <ion-label class=\"ion-text-center\">\n        <ion-button *ngIf=\"picture\" (click)=\"sendPicture\" id=\"ion-button-update\" color=\"light\" expand=\"block\">Atualizar imagem</ion-button>\n      </ion-label>\n    </ion-item>\n\n    <ion-item>\n      <ion-label class=\"ion-text-center\">\n        <ion-button *ngIf=\"picture\" (click)=\"cancel()\" id=\"ion-button-update\" color=\"light\" expand=\"block\">Cancelar</ion-button>\n      </ion-label>\n    </ion-item>\n\n    <ion-item>\n      <ion-label class=\"ion-text-center\">\n        <ion-button [routerLink]=\"['../../profile']\" id=\"ion-button-update\" color=\"light\" expand=\"block\">Voltar</ion-button>\n      </ion-label>\n    </ion-item>\n\n  </div>\n</ion-content>\n");

/***/ })

}]);
//# sourceMappingURL=src_app_profile-photo_profile-photo_module_ts-es2015.js.map